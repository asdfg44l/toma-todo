(function(t){function e(e){for(var s,o,r=e[0],c=e[1],l=e[2],d=0,f=[];d<r.length;d++)o=r[d],i[o]&&f.push(i[o][0]),i[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(f.length)f.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],s=!0,r=1;r<n.length;r++){var c=n[r];0!==i[c]&&(s=!1)}s&&(a.splice(e--,1),t=o(o.s=n[0]))}return t}var s={},i={app:0},a=[];function o(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=s,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(n,s,function(e){return t[e]}.bind(null,s));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/toma-todo/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},3556:function(t,e,n){t.exports=n.p+"img/edit.acef7b73.svg"},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var s=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},a=[],o={name:"app"},r=o,c=(n("5c0b"),n("2877")),l=Object(c["a"])(r,i,a,!1,null,null,null),u=l.exports,d=n("8c4f"),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mainWrap"},[n("div",{staticClass:"timerPage"},[n("div",{staticClass:"container-fluid"},[n("div",{staticClass:"row mt-2"},[n("div",{staticClass:"col-md-7"},[n("p",{staticClass:"currentTime mb-0"},[t._v(t._s(t._f("formatTime")(t.now)))]),n("p",{staticClass:"completeCount mb-0 text-right"},[t._v(t._s(t.lenthData.completedLength)+"/"+t._s(t.lenthData.totalLength)+" completed")])])]),n("div",{staticClass:"row mt-2"},[n("div",{staticClass:"col-md-8"},[n("tomato-clock"),n("timer")],1),n("div",{staticClass:"col-md-4 d-none d-md-block pt-md-5"},[n("task-list")],1)])])]),n("div",{staticClass:"sideBox d-flex bg-white"},[t._m(0),n("div",{staticClass:"sideTable"},[n("div",{staticClass:"container"},[n("div",{staticClass:"row justify-content-center"},[n("div",{staticClass:"col-md-10"},[n("todo-list")],1)])])])])])},p=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"controlBox bg-tomaRed"},[n("div",{staticClass:"list-group mt-5",attrs:{id:"list-tab",role:"tablist"}},[n("button",{staticClass:"functionBtn closeBox btn btn-block mt-4 rounded-0",attrs:{type:"button","data-toggle":"list",role:"tab"}},[n("i",{staticClass:"far fa-clock iconSize"})]),n("button",{staticClass:"functionBtn openBox btn btn-block mt-4 rounded-0",attrs:{type:"button","data-toggle":"list",role:"tab","data-set":"todolist"}},[n("i",{staticClass:"far fa-list-alt iconSize"})]),n("button",{staticClass:"functionBtn openBox btn btn-block mt-4 rounded-0",attrs:{type:"button","data-toggle":"list",role:"tab"}},[n("i",{staticClass:"far fa-chart-bar iconSize"})])])])}],m=(n("ac6a"),n("456d"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"timer display-3 roboMono text-center wordSpacing"},[t._v("\n        "+t._s(t._f("timer")(t.currentTime))+"\n    ")]),t.statusSwitch?n("div",{staticClass:"todoStatus container mt-5"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-6"},[n("button",{staticClass:"btn btn-block btn-tomaRed roboMono",attrs:{type:"button",disabled:t.tomaEvent},on:{click:t.todoContinue}},[t._v("continue")])]),n("div",{staticClass:"col-6"},[n("button",{staticClass:"btn btn-block btn-tomaRed roboMono",attrs:{type:"button",disabled:t.tomaEvent},on:{click:t.todoFinish}},[t._v("finish")])])])]):n("div",{staticClass:"timerControll d-flex justify-content-center align-items-center mt-5"},[n("div",{staticClass:"w-50"},[t.running?n("button",{staticClass:"btn btn-block btn-tomaRed roboMono rounded-pill",on:{click:t.pause}},[n("span",{staticClass:"wordSpacing text-center"},[t._v("pause")])]):n("button",{staticClass:"btn btn-block btn-tomaRed roboMono rounded-pill",on:{click:t.countDown}},[n("span",{staticClass:"wordSpacing text-center"},[t._v("start")])])]),n("div",{staticClass:"refresh"},[n("button",{staticClass:"btn",attrs:{type:"button"},on:{click:t.timerReset}},[n("i",{staticClass:"fas fa-redo fa-2x text-tomaRed"})])])])])}),v=[],h=(n("8e6e"),n("bd86")),b=n("2f62");function g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,s)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(n,!0).forEach(function(e){Object(h["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var T={methods:C({},Object(b["b"])(["countDown","pause","todoFinish","todoContinue"]),{timerReset:function(){this.$store.dispatch("timerReset")}}),computed:C({},Object(b["c"])(["workTime","restTime","currentTime","running","statusSwitch","tomaEvent"])),filters:{timer:function(t){var e=Math.floor(t/60),n=t%60;e<10&&(e="0"+e),n<10&&(n="0"+n);var s=e+":"+n;return s}}},y=T,_=Object(c["a"])(y,m,v,!1,null,null,null),w=_.exports,O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mt-4"},[n("h3",{staticClass:"text-center"},[t._v("MY FIRST TASK")]),n("div",{staticClass:"card waitingWrap mt-3"},[n("div",{staticClass:"card-body"},[n("ul",{staticClass:"waitingList pl-2"},[t.taskList.firstTask[0]?n("li",{staticClass:"first mb-3"},[n("i",{staticClass:"fas fa-play-circle"}),t._v(t._s(t.taskList.firstTask[0].work))]):t._e(),t._l(t.taskList.otherTask,function(e){return[n("li",{staticClass:"others mb-3"},[t._v(t._s(e.work))])]})],2)])]),n("todo-input",{staticClass:"mt-4"})],1)},k=[],I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"todoGroup input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],staticClass:"todoInput box-size-cancel form-control roboMono bg-secondary border-0",attrs:{type:"text",disabled:Boolean(t.cacheKey),placeholder:"Add new tasks"},domProps:{value:t.input},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addTodo(e)},input:function(e){e.target.composing||(t.input=e.target.value)}}}),n("div",{staticClass:"input-group-append"},[n("button",{staticClass:"todoInputBtn btn btn-secondary",on:{click:t.addTodo}},[n("i",{staticClass:"fas fa-plus text-deepRed"})])])])},S=[],L={props:["cacheKey"],data:function(){return{input:""}},methods:{addTodo:function(){this.$store.dispatch("addTodo",this.input),this.input=""}},watch:{input:function(){var t=/[^\a-\z\A-\Z0-9\u4E00-\u9FA5\@\.]/g;t.test(this.input)?this.$store.commit("VALID",{inValid:!0,message:"格式不符"}):this.$store.commit("VALID",{inValid:!1,message:""})}}},E=L,x=Object(c["a"])(E,I,S,!1,null,null,null),j=x.exports;function D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,s)}return n}function A(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?D(n,!0).forEach(function(e){Object(h["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var P={data:function(){return{}},components:{todoInput:j},computed:A({},Object(b["c"])(["taskList"]))},R=P,$=Object(c["a"])(R,O,k,!1,null,null,null),V=$.exports,N=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),s("div",{staticClass:"mt-2"},[s("div",{staticClass:"todoTitle"},[s("div",{staticClass:"row justify-content-between mb-3"},[t._m(0),s("div",{staticClass:"col-6"},[s("div",{staticClass:"input-group justify-content-end mb-0"},[s("p",{staticClass:"mb-0 mr-1 font-weight-bold"},[t._v(t._s(t._f("dateTime")(t.todoDate)))]),s("div",{staticClass:"input-group-append"},[s("v-date-picker",{staticClass:"Vcalendar",attrs:{color:"red",locale:"en",popover:{placement:"bottom",visibility:"click"}},model:{value:t.todoDate,callback:function(e){t.todoDate=e},expression:"todoDate"}},[s("button",{staticClass:"bg-white",attrs:{type:"button"}},[s("img",{attrs:{src:n("3556"),width:"20",height:"20"}})])])],1)])])])]),s("todo-input",{attrs:{cacheKey:t.cacheKey}}),t.Valid.inValid?s("p",{staticClass:"text-danger mb-0"},[t._v(t._s(t.Valid.message))]):t._e(),s("div",{staticClass:"card border-0 my-4"},[t._m(1),s("div",{staticClass:"card-body bg-lightRed p-0"},[s("table",{staticClass:"table mt-2"},t._l(t.todoList,function(e){return s("tr",{key:e.id},[s("td",{staticClass:"todo border-0",attrs:{width:"250"}},[s("span",{staticClass:"font-weight-bold text-primary",class:{"d-none":e.id==t.cacheKey}},[t._v(t._s(e.work))]),e.id==t.cacheKey?s("input",{directives:[{name:"model",rawName:"v-model",value:t.editInput,expression:"editInput"}],attrs:{type:"text"},domProps:{value:t.editInput},on:{keyup:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:t.updateTodo(e.id)},input:function(e){e.target.composing||(t.editInput=e.target.value)}}}):t._e()]),s("td",{staticClass:"text-nowrap border-0"},[s("div",[s("button",{staticClass:"btn p-0 mr-3",attrs:{type:"button"},on:{click:function(n){return t.startTodo(e)}}},[s("i",{staticClass:"far fa-play-circle text-primary"})]),s("button",{staticClass:"btn p-0 mr-3",attrs:{type:"button"},on:{click:function(n){return t.removeTodo(e.id)}}},[s("i",{staticClass:"fas fa-trash-alt text-primary"})]),s("button",{staticClass:"btn p-0 mr-3",attrs:{type:"button"},on:{click:function(n){return t.editTodo(e.id)}}},[s("i",{staticClass:"fas fa-edit text-primary"})])])])])}),0)])]),s("complete-todo",{attrs:{completeList:t.completeList}})],1)],1)},M=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-4"},[n("p",{staticClass:"font-weight-bold mb-0"},[t._v("To do List")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card-head p-3 bg-info"},[n("h5",{staticClass:"card-title text-white font-md mb-0"},[t._v("To do")])])}],U=(n("28a5"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card border-0"},[t._m(0),n("div",{staticClass:"completeTodo card-body bg-lightRed p-0"},[n("table",{staticClass:"table mt-2"},t._l(t.completeList,function(e){return n("tr",{staticClass:"text-nowrap"},[n("td",{staticClass:"todo font-weight-bold text-primary border-0",attrs:{width:"250"}},[t._v(t._s(e.work))]),n("td",{staticClass:"todo font-weight-bold text-primary border-0"},[t._v(t._s(25*e.tomato)+" min")])])}),0)])])}),K=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card-head p-3 bg-info"},[n("h5",{staticClass:"card-title text-white font-md mb-0"},[t._v("Done")])])}],W={props:["completeList"]},B=W,F=Object(c["a"])(B,U,K,!1,null,null,null),H=F.exports;function G(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,s)}return n}function z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?G(n,!0).forEach(function(e){Object(h["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var J={data:function(){return{editInput:"",todoDate:new Date}},components:{todoInput:j,completeTodo:H},methods:{getTodo:function(){this.$store.dispatch("getTodo")},editTodo:function(t){this.$store.dispatch("editTodo",t)},updateTodo:function(t){var e=this,n=e.editInput;e.$store.dispatch("updateTodo",{key:t,userInput:n}).then(function(){e.editInput=""})},removeTodo:function(t){this.$store.dispatch("removeTodo",t)},startTodo:function(t){this.$store.dispatch("startTodo",t)}},computed:z({},Object(b["c"])(["isLoading","todoList","completeList","Valid","cacheKey"])),watch:{editInput:function(){var t=/[^\a-\z\A-\Z0-9\u4E00-\u9FA5\@\.]/g;t.test(this.editInput)?this.$store.commit("VALID",{inValid:!0,message:"格式不符"}):this.$store.commit("VALID",{inValid:!1,message:""})}},filters:{ISOtime:function(t){t*=1e3;var e=new Date(t);return e=e.toISOString().split("T")[0],e},dateTime:function(t){var e=t.toDateString(),n=e.split(" "),s=n[1]+" "+n[3];return s}}},Y=J,q=Object(c["a"])(Y,N,M,!1,null,null,null),Z=q.exports,X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"outer"},[t._m(0),t._m(1),n("div",{staticClass:"tomatoWrap"},[n("div",{staticClass:"spinBorder",class:{animation:t.active}}),n("div",{staticClass:"tomatoClock"}),n("div",{staticClass:"minuteHand"}),n("div",{staticClass:"hourHand"})])]),t._m(2)])},Q=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sloganWrap"},[n("div",{staticClass:"tomaSlogan slogan1 font-weight-bold"},[n("p",[t._v("Never Give Up")])]),n("div",{staticClass:"tomaSlogan slogan2 font-weight-bold"},[n("p",[t._v("Just do it !")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tomatoLeaf"},[n("div",{staticClass:"ovalWrap oval1"},[n("div",{staticClass:"halfOval"})]),n("div",{staticClass:"ovalWrap oval2"},[n("div",{staticClass:"halfOval"})]),n("div",{staticClass:"ovalWrap oval3"},[n("div",{staticClass:"halfOval"})])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container d-none"},[n("div",{staticClass:"spinBorderX"},[n("div",{staticClass:"spinnerWrap"},[n("div",{staticClass:"spinner"})])])])}],tt={data:function(){return{active:!1}},computed:{spinActive:function(){this.$store.state.tomaTimer.running?this.active=!0:this.active=!1}}},et=tt,nt=Object(c["a"])(et,X,Q,!1,null,null,null),st=nt.exports,it=n("1157"),at=n.n(it),ot={data:function(){return{now:new Date}},methods:{clockTime:function(){var t=this;setInterval(e,6e4);function e(){t.now=new Date,console.log("update")}}},mounted:function(){at()(".openBox").on("click",function(){at()(".sideBox").toggleClass("active")}),at()(".closeBox").on("click",function(){at()(".sideBox").removeClass("active")})},components:{timer:w,taskList:V,todoList:Z,tomatoClock:st},computed:{lenthData:function(){var t=Object.keys(this.$store.getters.todoList).length,e=Object.keys(this.$store.getters.completeList).length,n=t+e;return{completedLength:e,totalLength:n}}},filters:{formatTime:function(t){var e,n=t.toLocaleDateString(),s=t.getHours(),i=t.getMinutes();return i<10&&(i="0".concat(i)),e=s<12?"Am":"Pm","".concat(n," ").concat(e," ").concat(s,":").concat(i)}},created:function(){var t=JSON.parse(localStorage.getItem("user"));this.clockTime(),this.$store.commit("USER",t),this.$store.dispatch("getTodo")}},rt=ot,ct=(n("d012"),Object(c["a"])(rt,f,p,!1,null,null,null)),lt=ct.exports,ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"container text-center"},[n("h1",[t._v("Firebase Auth Test")]),n("div",{staticClass:"row justify-content-center mt-5"},[n("div",{staticClass:"col-4"},[n("button",{staticClass:"btn btn-primary d-none d-md-block",attrs:{type:"button"},on:{click:t.ISOlogin}},[t._v("使用google註冊(Popup)")]),n("button",{staticClass:"btn btn-primary d-md-none",attrs:{type:"button"},on:{click:t.ISOlogin}},[t._v("使用google註冊(redirect)")])]),n("div",{staticClass:"col-4"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){}}},[t._v("disabled")])])]),n("div",{staticClass:"row justify-content-center mt-5"},[n("div",{staticClass:"col-4"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.getCurrentUser}},[t._v("查詢當前使用者")])]),n("div",{staticClass:"col-4"},[n("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.signOut}},[t._v("登出")])])]),n("div",{staticClass:"row justify-content-center mt-5"},[n("div",{staticClass:"col-4"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.toIndex}},[t._v("前往首頁")])])]),n("div",{attrs:{id:"firebaseui-auth-container"}})])])},dt=[],ft={data:function(){return{window:"",data:{}}},methods:{authPop:function(t){this.$store.dispatch("authPop",t)},ISOlogin:function(){var t={callbacks:{signInSuccessWithAuthResult:function(t,e){return console.log(t),console.log(e),!1},signInFailure:function(t){return handleUIError(t)}},signInFlow:"popup",signInOptions:[{provider:firebase.auth.GoogleAuthProvider.PROVIDER_ID,authMethod:"https://accounts.google.com",clientId:"640972649156-1a0gmi60v7qhp4r496ua9unmgu0e9qho.apps.googleusercontent.com"}],credentialHelper:firebaseui.auth.CredentialHelper.ACCOUNT_CHOOSER_COM},e=new firebaseui.auth.AuthUI(firebase.auth());e.start("#firebaseui-auth-container",t),e.disableAutoSignIn()},getCurrentUser:function(){this.$store.dispatch("getCurrentUser")},signOut:function(){firebase.auth().signOut().then(function(){sessionStorage.clear(),console.log("User signOut")}).catch(function(t){return t})},toIndex:function(){this.$router.push("/index")}},created:function(){var t=this;window.addEventListener("load",function(){t.ISOlogin()})}},pt=ft,mt=Object(c["a"])(pt,ut,dt,!1,null,null,null),vt=mt.exports,ht=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},bt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",{staticClass:"text-center"},[t._v("RWD Test")]),n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-4"},[n("div",{staticClass:"list-group d-none d-md-block"},[n("a",{staticClass:"list-group-item list-group-item-action active",attrs:{href:"#"}},[t._v("\n                        Cras justo odio\n                    ")]),n("a",{staticClass:"list-group-item list-group-item-action",attrs:{href:"#"}},[t._v("Dapibus ac facilisis in")]),n("a",{staticClass:"list-group-item list-group-item-action",attrs:{href:"#"}},[t._v("Morbi leo risus")]),n("a",{staticClass:"list-group-item list-group-item-action",attrs:{href:"#"}},[t._v("Porta ac consectetur ac")]),n("a",{staticClass:"list-group-item list-group-item-action disabled",attrs:{href:"#",tabindex:"-1","aria-disabled":"true"}},[t._v("Vestibulum at eros")])]),n("div",{staticClass:"form-group d-md-none"},[n("label",{attrs:{for:"exampleFormControlSelect1"}},[t._v("Example select")]),n("select",{staticClass:"form-control",attrs:{id:"exampleFormControlSelect1"}},[n("option",[t._v("1")]),n("option",[t._v("2")]),n("option",[t._v("3")]),n("option",[t._v("4")]),n("option",[t._v("5")])])])]),n("div",{staticClass:"col-md-8"},[n("table",{staticClass:"table"},[n("thead",[n("tr",[n("th",[t._v("星期一")]),n("th",[t._v("星期二")]),n("th",[t._v("星期三")]),n("th",[t._v("星期四")])])]),n("tbody",[n("tr",[n("td",[t._v("吃飯")]),n("td",[t._v("睡覺")]),n("td",[t._v("洗澡")]),n("td",[t._v("打東東")])])])])])])])])}],gt=(n("ffbc"),{}),Ct=Object(c["a"])(gt,ht,bt,!1,null,null,null),Tt=Ct.exports;s["a"].use(d["a"]);var yt=new d["a"]({routes:[{path:"*",redirect:"/auth"},{path:"/auth",name:"auth",component:vt},{path:"/rwd",name:"rwd",component:Tt},{path:"/index",name:"index",component:lt,meta:{requiresAuth:!0},children:[{path:"/todolist",name:"todolist",component:Z}]}]}),_t=(n("8615"),new firebase.auth.GoogleAuthProvider),wt={state:{},actions:{ISOlogin:function(t){t.dispatch;var e={callbacks:{signInSuccessWithAuthResult:function(t,e){return console.log(t),console.log(e),!0},signInFailure:function(t){alert(t)}},signInFlow:"redirect",signInOptions:[firebase.auth.GoogleAuthProvider.PROVIDER_ID]},n=new firebaseui.auth.AuthUI(firebase.auth());n.disableAutoSignIn(),n.start("#firebaseui-auth-container",e)},testAuth:function(){alert("testAuth")},authPop:function(t,e){var n=t.commit,s="signInWithPopup";"phone"==e&&(s="signInWithRedirect",alert("signInWithRedirect")),firebase.auth()[s](_t).then(function(t){return t.user}).then(function(t){var e=t.displayName,s=t.uid;n("USER",{userName:e,userID:s}),localStorage.setItem("user",JSON.stringify({userName:e,userID:s}));var i=firebase.database().ref("/identity/");i.child(e).once("value").then(function(t){var n=firebase.database().ref("".concat(s));if(!t.val()){i.child(e).set({name:e,userID:s}).catch(function(t){return t});var a=new Date,o=a.getTime();n.push({id:o,work:"新建一個 Todo",tomato:0,isComplete:!1}),firebase.database().ref("".concat(s,"/complete List")).push({id:o,work:"歡迎使用 Tomado",tomato:0,isComplete:!1}),console.log("hello new User")}})}).catch(function(t){return t})},getCurrentUser:function(t){t.commit;var e=firebase.auth().currentUser;e?alert(e.displayName):(e="null",alert(e))}},mutations:{},getters:{}},Ot={state:{workTime:1500,restTime:300,currentTime:1500,running:!1,statusSwitch:!1,tomaEvent:!1,todoRef:firebase.database()},actions:{countDown:function(t){var e=t.state,n=t.commit,s=t.dispatch;function i(){e.currentTime-=1,0===e.currentTime&&(n("TOMAEVENT",!1),clearInterval(e.running),n("RUNNING",!1),s("timerReset"),n("STATUSSWITCH",!e.statusSwitch))}e.running=setInterval(i,1e3)},pause:function(t){var e=t.state,n=t.commit;clearInterval(e.running),n("RUNNING",!1)},timerReset:function(t){var e=t.state,n=t.commit;e.statusSwitch?n("CURRENTTIME",e.workTime):n("CURRENTTIME",e.restTime)},todoFinish:function(t){var e=t.rootState,n=t.dispatch,s=t.commit;s("TOMAEVENT",!0);var i=e.taskList.firstTask[0].tomato||0,a=e.taskList.firstTask[0].id,o={tomaNum:i,id:a};n("completeTodo",o),n("countDown")},todoContinue:function(t){var e=t.rootState,n=t.dispatch,s=t.commit;s("TOMAEVENT",!0),e.taskList.firstTask[0].tomato?e.taskList.firstTask[0].tomato+=1:e.taskList.firstTask[0].tomato=1,n("countDown")}},mutations:{WORKTIME:function(t,e){t.workTime=e},RESTTIME:function(t,e){t.restTime=e},CURRENTTIME:function(t,e){t.currentTime=e},RUNNING:function(t,e){t.running=e},STATUSSWITCH:function(t,e){t.statusSwitch=e},TOMAEVENT:function(t,e){t.tomaEvent=e}},getters:{workTime:function(t){return t.workTime},restTime:function(t){return t.restTime},currentTime:function(t){return t.currentTime},running:function(t){return t.running},statusSwitch:function(t){return t.statusSwitch},tomaEvent:function(t){return t.tomaEvent}}};s["a"].use(b["a"]);var kt=new b["a"].Store({state:{user:{userName:"",userID:""},todoList:[],taskList:{firstTask:[],otherTask:[]},completeList:[],isLoading:!1,Valid:{inValid:!1,message:""},cacheKey:"",todoRef:firebase.database()},actions:{getTodo:function(t){var e=t.state,n=t.commit;n("ISLOADING",!0),e.todoRef.ref("".concat(e.user.userID)).once("value").then(function(t){var e=t.val();n("COMPLETELIST",Object.values(e["complete List"])),delete e["complete List"],n("TODOLIST",Object.values(e));var s=new Array(Object.values(e)[0]),i=Object.values(e).slice(1);n("TASKLIST",{firstTask:s,otherTask:i})}).then(function(){return n("ISLOADING",!1)})},addTodo:function(t,e){var n=t.state,s=t.commit,i=t.dispatch;if(!n.Valid.inValid){var a=e;if(""!=a){var o=new Date,r=o.getTime();n.todoRef.ref("".concat(n.user.userID)).child("".concat(r)).set({id:r,work:a,tomato:0,isComplete:!1}).then(function(){i("getTodo")}).catch(function(t){alert(t)})}else s("VALID",{inValid:!0,message:"內容不得為空"})}},editTodo:function(t,e){var n=t.state,s=t.commit;n.cacheKey==e?s("CACHEKEY",""):s("CACHEKEY",e)},updateTodo:function(t,e){var n=t.state,s=t.commit,i=t.dispatch,a=e.key,o=e.userInput;s("CACHEKEY",""),n.Valid.inValid||n.todoRef.ref("".concat(n.user.userID)).child(a).update({work:o}).then(function(){return i("getTodo")})},removeTodo:function(t,e){var n=t.state,s=t.dispatch;n.todoRef.ref("".concat(n.user.userID)).child("".concat(e)).remove(),s("getTodo")},startTodo:function(t,e){var n=t.state,s=t.commit,i=t.dispatch;if(e!=n.taskList.firstTask[0]){var a={},o=n.taskList.otherTask.slice(0),r=n.taskList.otherTask.indexOf(e);o.splice(r,1,n.taskList.firstTask[0]),a.firstTask=new Array(e),a.otherTask=o,s("TASKLIST",a)}i("countDown")},completeTodo:function(t,e){var n=t.state,s=t.dispatch,i=e.tomaNum,a=e.id,o=n.todoRef.ref("".concat(n.user.userID));o.child("".concat(a)).update({tomato:i,isComplete:!0}).then(function(){return s("getTodo")}),o.child("".concat(a)).once("value").then(function(t){var e=t.val();o.child("complete List").push(e)}).then(function(){s("removeTodo",a)})}},mutations:{ISLOADING:function(t,e){t.isLoading=e},TODOLIST:function(t,e){t.todoList=e},TASKLIST:function(t,e){var n=e.firstTask,s=e.otherTask;t.taskList.firstTask=n,t.taskList.otherTask=s},COMPLETELIST:function(t,e){t.completeList=e},VALID:function(t,e){var n=e.inValid,s=e.message;t.Valid.inValid=n,t.Valid.message=s},USER:function(t,e){t.user=e},CACHEKEY:function(t,e){t.cacheKey=e}},getters:{isLoading:function(t){return t.isLoading},todoList:function(t){return t.todoList},taskList:function(t){return t.taskList},completeList:function(t){return t.completeList},Valid:function(t){return t.Valid},user:function(t){return t.user},cacheKey:function(t){return t.cacheKey}},modules:{googleAuth:wt,tomaTimer:Ot}}),It=n("9062"),St=n.n(It),Lt=(n("e40d"),n("5887")),Et=n.n(Lt);n("4989");s["a"].use(Et.a,{componentPrefix:"v"}),s["a"].config.productionTip=!1,s["a"].component("loading",St.a),new s["a"]({router:yt,store:kt,render:function(t){return t(u)}}).$mount("#app"),yt.beforeEach(function(t,e,n){if(t.meta.requiresAuth){var s=firebase.auth().currentUser;s?n():(console.log("尚未登入"),n({path:"auth"}))}else n()})},"5c0b":function(t,e,n){"use strict";var s=n("5e27"),i=n.n(s);i.a},"5e27":function(t,e,n){},d012:function(t,e,n){"use strict";var s=n("d0f1"),i=n.n(s);i.a},d0f1:function(t,e,n){},f052:function(t,e,n){},ffbc:function(t,e,n){"use strict";var s=n("f052"),i=n.n(s);i.a}});
//# sourceMappingURL=app.64da4862.js.map